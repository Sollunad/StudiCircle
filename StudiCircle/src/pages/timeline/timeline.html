<ion-header>
  <ion-navbar>
    <ion-title>Social Card</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="cards-bg social-cards">

  <ion-card *ngFor="let appointment of appointments">
    <ion-item>
      <ion-row>
        <ion-col col-10>
          <h2>{{appointment.title}}</h2>
          <p><ion-icon name="calendar"></ion-icon>&nbsp;&nbsp;{{appointment.startDate | date: 'dd. MMMM yyyy, HH:mm'}} Uhr</p>
          <p><ion-icon name="time"></ion-icon>&nbsp;&nbsp;{{appointment.endDate | strictTime:appointment.startDate}}</p>
          <p> <ion-icon name="pin"></ion-icon>&nbsp;&nbsp;{{appointment.location}}</p>
        </ion-col>
        <ion-col col-2>
          <ion-item *ngIf="userRole=='admin' || userRole=='mod'">
            <button ion-button icon-only item-right clear (click)="presentPopover($event)">
              <ion-icon class="settings-icon" name="more"></ion-icon>
            </button>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-item>


    <ion-card-content>
      <p>{{appointment.description}}</p>
    </ion-card-content>
    <ion-row>
      <ion-col>
        <button ion-button clear small class="votes">
          {{appointment.countCommits+appointment.countRejections+appointment.countInterested}} Stimmen
        </button>
      </ion-col>
    </ion-row>
    <ion-row class="buttons">
      <ion-col>
        <button ion-button color="primary" clear small icon-start>
          <ion-icon name='thumbs-up'></ion-icon>
          {{appointment.countCommits}} Zusagen
        </button>
      </ion-col>
      <ion-col>
        <button ion-button color="primary" clear small icon-start>
          <ion-icon name='thumbs-down'></ion-icon>
          {{appointment.countRejections}} Absagen
        </button>
      </ion-col>
      <ion-col>
        <ion-col>
          <button ion-button color="primary" clear small icon-start>
            <ion-icon name='notifications'></ion-icon>
            {{appointment.countInterested}} Interessiert
          </button>
        </ion-col>
      </ion-col>
    </ion-row>
  </ion-card>
</ion-content>
